---
layout: post
title: 清华校园网远程
date: 2018-09-11
tags: markdown
---

# 简述

清华校园网采用dhcp动态地址，因此每个同学的ip地址都会变化，并且一般自己的账号连上去以后只能保留6个小时大概，这不利于实验室服务器远程联网。实验室远程桌面要使用的话需要ip地址。因此无论如何联网都需要保证自己实验室的电脑能够24小时不断网。

# 自动循环登录

校园网的api解析在github上有很多，在net时代我也根据网页的请求写了一个比较简陋的，然而没过几天就换成了auth4，但是经验证，auth4的跟net大同小异，只是多了一个校内访问。因此将代码一改就能够使用。

代码放在了 https://github.com/yushuaizhao/gotunet/  ，windows版本exe在 https://github.com/yushuaizhao/gotunet/releases ，golang编写，使用时在同级目录下放一个名为passwd的文件，内容只有一行，用户名和密码，中间用英文逗号分隔。然后双击跑着就行。
当网络超时或者被强制下线后仍然可以重新连接，但是遇到断网的情况就不太好处理了。断网时间超过1500秒软件会停止运行。

# 远程的选择

teamviewer是很多同学的选择，实际上windows自带的远程桌面效果就很不错，效果个人认为最佳，可以共享剪切板和驱动器，共享文件的速度在校园网内还是极快的。windows只有专业版自带了远程服务，学校的教育版也有，但是家庭版没有。也可以试试nomachineNX，还支持linux远程，配置也比较容易。

实际上teamviewer最大的优势应该是不用记ip，所以它需要流量，但是可以通过登录<http://usereg.tsinghua.edu.cn>，在在线状态中有自己账号登录的ip地址，完美。
